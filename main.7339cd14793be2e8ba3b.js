(()=>{"use strict";var n={354:(n,t,e)=>{e.d(t,{A:()=>i});var r=e(942),s=e.n(r),o=e(278),a=e.n(o)()(s());a.push([n.id,".chat-window {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--background-color);\n  position: relative;\n}\n\n.logout-button {\n  padding: 8px 16px;\n  background-color: #ff4444;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.2s;\n}\n\n.logout-button:hover {\n  background-color: #ff0000;\n}\n\n.chat-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 20px;\n  background-color: var(--surface-color);\n  border-bottom: 1px solid #ddd;\n  padding: var(--spacing-md);\n  gap: var(--spacing-md);\n  border-bottom: 1px solid var(--border-color);\n}\n\n.messages-list {\n  flex: 1;\n  overflow-y: auto;\n  padding: var(--spacing-lg);\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-md);\n  scroll-behavior: smooth;\n}\n\n.message {\n  max-width: 70%;\n  display: flex;\n  animation: fade-in var(--transition-normal);\n}\n\n.message.incoming {\n  align-self: flex-start;\n}\n\n.message.outgoing {\n  align-self: flex-end;\n}\n\n.message-content {\n  background-color: var(--surface-color);\n  padding: var(--spacing-md);\n  border-radius: var(--radius-md);\n  position: relative;\n  box-shadow: var(--shadow-sm);\n}\n\n.message.outgoing .message-content {\n  background-color: var(--primary-color);\n}\n\n.message-text {\n  margin-bottom: var(--spacing-xs);\n  word-break: break-word;\n  white-space: pre-wrap;\n}\n\n.message-time {\n  font-size: 12px;\n  color: var(--text-secondary);\n  align-self: flex-end;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.message.outgoing .message-time {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.input-container {\n  display: flex;\n  gap: var(--spacing-md);\n  padding: var(--spacing-md);\n  background-color: var(--surface-color);\n  border-top: 1px solid var(--border-color);\n}\n\n.chat-input {\n  flex: 1;\n  background-color: var(--background-color);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-md);\n  color: var(--text-primary);\n  font-size: 16px;\n  padding: var(--spacing-sm) var(--spacing-md);\n  outline: none;\n  transition: border-color var(--transition-fast);\n}\n\n.chat-input:focus {\n  border-color: var(--primary-color);\n}\n\n.send-button {\n  background-color: var(--primary-color);\n  border: none;\n  cursor: pointer;\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-radius: var(--radius-md);\n  transition: background-color var(--transition-fast);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n}\n\n.send-button:hover {\n  background-color: var(--primary-dark);\n}\n\n.send-button:disabled {\n  background-color: var(--border-color);\n  cursor: not-allowed;\n}\n\n/* Адаптивность */\n@media (max-width: 768px) {\n  .message {\n    max-width: 85%;\n  }\n\n  .input-container {\n    padding: var(--spacing-sm);\n  }\n}\n","",{version:3,sources:["webpack://./src/css/components/chat.css"],names:[],mappings:"AAAA;EACE,OAAO;EACP,aAAa;EACb,sBAAsB;EACtB,yCAAyC;EACzC,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;EACjB,yBAAyB;EACzB,YAAY;EACZ,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,eAAe;EACf,iCAAiC;AACnC;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,kBAAkB;EAClB,sCAAsC;EACtC,6BAA6B;EAC7B,0BAA0B;EAC1B,sBAAsB;EACtB,4CAA4C;AAC9C;;AAEA;EACE,OAAO;EACP,gBAAgB;EAChB,0BAA0B;EAC1B,aAAa;EACb,sBAAsB;EACtB,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,aAAa;EACb,2CAA2C;AAC7C;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,sCAAsC;EACtC,0BAA0B;EAC1B,+BAA+B;EAC/B,kBAAkB;EAClB,4BAA4B;AAC9B;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,gCAAgC;EAChC,sBAAsB;EACtB,qBAAqB;AACvB;;AAEA;EACE,eAAe;EACf,4BAA4B;EAC5B,oBAAoB;EACpB,aAAa;EACb,mBAAmB;EACnB,QAAQ;AACV;;AAEA;EACE,+BAA+B;AACjC;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,0BAA0B;EAC1B,sCAAsC;EACtC,yCAAyC;AAC3C;;AAEA;EACE,OAAO;EACP,yCAAyC;EACzC,qCAAqC;EACrC,+BAA+B;EAC/B,0BAA0B;EAC1B,eAAe;EACf,4CAA4C;EAC5C,aAAa;EACb,+CAA+C;AACjD;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,sCAAsC;EACtC,YAAY;EACZ,eAAe;EACf,4CAA4C;EAC5C,+BAA+B;EAC/B,mDAAmD;EACnD,aAAa;EACb,mBAAmB;EACnB,sBAAsB;AACxB;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,qCAAqC;EACrC,mBAAmB;AACrB;;AAEA,iBAAiB;AACjB;EACE;IACE,cAAc;EAChB;;EAEA;IACE,0BAA0B;EAC5B;AACF",sourcesContent:[".chat-window {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--background-color);\n  position: relative;\n}\n\n.logout-button {\n  padding: 8px 16px;\n  background-color: #ff4444;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.2s;\n}\n\n.logout-button:hover {\n  background-color: #ff0000;\n}\n\n.chat-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 20px;\n  background-color: var(--surface-color);\n  border-bottom: 1px solid #ddd;\n  padding: var(--spacing-md);\n  gap: var(--spacing-md);\n  border-bottom: 1px solid var(--border-color);\n}\n\n.messages-list {\n  flex: 1;\n  overflow-y: auto;\n  padding: var(--spacing-lg);\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-md);\n  scroll-behavior: smooth;\n}\n\n.message {\n  max-width: 70%;\n  display: flex;\n  animation: fade-in var(--transition-normal);\n}\n\n.message.incoming {\n  align-self: flex-start;\n}\n\n.message.outgoing {\n  align-self: flex-end;\n}\n\n.message-content {\n  background-color: var(--surface-color);\n  padding: var(--spacing-md);\n  border-radius: var(--radius-md);\n  position: relative;\n  box-shadow: var(--shadow-sm);\n}\n\n.message.outgoing .message-content {\n  background-color: var(--primary-color);\n}\n\n.message-text {\n  margin-bottom: var(--spacing-xs);\n  word-break: break-word;\n  white-space: pre-wrap;\n}\n\n.message-time {\n  font-size: 12px;\n  color: var(--text-secondary);\n  align-self: flex-end;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.message.outgoing .message-time {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.input-container {\n  display: flex;\n  gap: var(--spacing-md);\n  padding: var(--spacing-md);\n  background-color: var(--surface-color);\n  border-top: 1px solid var(--border-color);\n}\n\n.chat-input {\n  flex: 1;\n  background-color: var(--background-color);\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius-md);\n  color: var(--text-primary);\n  font-size: 16px;\n  padding: var(--spacing-sm) var(--spacing-md);\n  outline: none;\n  transition: border-color var(--transition-fast);\n}\n\n.chat-input:focus {\n  border-color: var(--primary-color);\n}\n\n.send-button {\n  background-color: var(--primary-color);\n  border: none;\n  cursor: pointer;\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-radius: var(--radius-md);\n  transition: background-color var(--transition-fast);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n}\n\n.send-button:hover {\n  background-color: var(--primary-dark);\n}\n\n.send-button:disabled {\n  background-color: var(--border-color);\n  cursor: not-allowed;\n}\n\n/* Адаптивность */\n@media (max-width: 768px) {\n  .message {\n    max-width: 85%;\n  }\n\n  .input-container {\n    padding: var(--spacing-sm);\n  }\n}\n"],sourceRoot:""}]);const i=a},305:(n,t,e)=>{e.d(t,{A:()=>i});var r=e(942),s=e.n(r),o=e(278),a=e.n(o)()(s());a.push([n.id,"/* Основной контейнер модального окна */\n.login-modal {\n  position: fixed;\n  inset: 0;\n  background-color: rgba(0, 0, 0, 0.75);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n  padding: var(--spacing-md);\n  opacity: 1;\n  transition: opacity var(--transition-normal);\n}\n\n.login-modal.hidden {\n  opacity: 0;\n  pointer-events: none;\n}\n\n/* Контейнер содержимого */\n.login-content {\n  background-color: var(--surface-color);\n  padding: var(--spacing-xl);\n  border-radius: var(--radius-lg);\n  width: 100%;\n  max-width: 400px;\n  box-shadow:\n    0 10px 15px -3px rgba(0, 0, 0, 0.1),\n    0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  animation: modal-in var(--transition-normal) cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n/* Заголовок */\n.login-content h2 {\n  font-size: 24px;\n  font-weight: 600;\n  color: var(--text-primary);\n  text-align: center;\n  margin-bottom: var(--spacing-lg);\n  padding-bottom: var(--spacing-sm);\n  position: relative;\n}\n\n.login-content h2::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 40px;\n  height: 2px;\n  background-color: var(--primary-color);\n}\n\n/* Поле ввода */\n.login-content input {\n  width: 100%;\n  padding: var(--spacing-md);\n  background-color: var(--background-color);\n  border: 2px solid var(--border-color);\n  border-radius: var(--radius-md);\n  color: var(--text-primary);\n  font-size: 16px;\n  margin-bottom: var(--spacing-md);\n  transition: all var(--transition-fast);\n}\n\n.login-content input:focus {\n  border-color: var(--primary-color);\n  box-shadow: 0 0 0 3px var(--primary-light);\n  outline: none;\n}\n\n.login-content input::placeholder {\n  color: var(--text-secondary);\n  opacity: 0.7;\n}\n\n/* Сообщение об ошибке */\n.login-content .error-message {\n  color: var(--error-color);\n  font-size: 14px;\n  margin-bottom: var(--spacing-md);\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-radius: var(--radius-sm);\n  background-color: rgba(242, 139, 130, 0.1);\n  border: 1px solid rgba(242, 139, 130, 0.2);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  animation: shake 0.4s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\n}\n\n.login-content .error-message.hidden {\n  display: none;\n}\n\n/* Кнопка входа */\n.login-content button {\n  width: 100%;\n  padding: var(--spacing-md);\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: var(--radius-md);\n  font-size: 16px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all var(--transition-fast);\n  position: relative;\n  overflow: hidden;\n}\n\n.login-content button:hover {\n  background-color: var(--primary-dark);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n}\n\n.login-content button:active {\n  transform: translateY(0);\n  box-shadow: none;\n}\n\n.login-content button:disabled {\n  background-color: var(--border-color);\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n\n/* Анимации */\n@keyframes modal-in {\n  0% {\n    opacity: 0;\n    transform: scale(0.95) translateY(10px);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n}\n\n@keyframes shake {\n  10%,\n  90% {\n    transform: translateX(-1px);\n  }\n  20%,\n  80% {\n    transform: translateX(2px);\n  }\n  30%,\n  50%,\n  70% {\n    transform: translateX(-3px);\n  }\n  40%,\n  60% {\n    transform: translateX(3px);\n  }\n}\n\n/* Загрузка */\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.login-content button.loading::after {\n  content: '';\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  top: calc(50% - 8px);\n  left: calc(50% - 8px);\n  border: 2px solid transparent;\n  border-top-color: white;\n  border-radius: 50%;\n  animation: spin 0.6s linear infinite;\n}\n\n/* Адаптивность */\n@media (max-width: 480px) {\n  .login-content {\n    padding: var(--spacing-lg);\n    margin: var(--spacing-sm);\n  }\n\n  .login-content h2 {\n    font-size: 20px;\n  }\n\n  .login-content input,\n  .login-content button {\n    font-size: 15px;\n    padding: calc(var(--spacing-md) - 2px);\n  }\n}\n\n/* Темная тема */\n@media (prefers-color-scheme: dark) {\n  .login-modal {\n    background-color: rgba(0, 0, 0, 0.85);\n  }\n\n  .login-content {\n    background-color: var(--surface-dark);\n    box-shadow:\n      0 10px 15px -3px rgba(0, 0, 0, 0.2),\n      0 4px 6px -2px rgba(0, 0, 0, 0.15);\n  }\n\n  .login-content input {\n    background-color: var(--background-dark);\n    border-color: var(--border-dark);\n  }\n\n  .login-content input:focus {\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 3px var(--primary-dark);\n  }\n\n  .login-content .error-message {\n    background-color: rgba(242, 139, 130, 0.05);\n    border-color: rgba(242, 139, 130, 0.15);\n  }\n}\n","",{version:3,sources:["webpack://./src/css/components/modal.css"],names:[],mappings:"AAAA,uCAAuC;AACvC;EACE,eAAe;EACf,QAAQ;EACR,qCAAqC;EACrC,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,aAAa;EACb,0BAA0B;EAC1B,kCAAkC;EAClC,0BAA0B;EAC1B,UAAU;EACV,4CAA4C;AAC9C;;AAEA;EACE,UAAU;EACV,oBAAoB;AACtB;;AAEA,0BAA0B;AAC1B;EACE,sCAAsC;EACtC,0BAA0B;EAC1B,+BAA+B;EAC/B,WAAW;EACX,gBAAgB;EAChB;;sCAEoC;EACpC,yEAAyE;AAC3E;;AAEA,cAAc;AACd;EACE,eAAe;EACf,gBAAgB;EAChB,0BAA0B;EAC1B,kBAAkB;EAClB,gCAAgC;EAChC,iCAAiC;EACjC,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,SAAS;EACT,SAAS;EACT,2BAA2B;EAC3B,WAAW;EACX,WAAW;EACX,sCAAsC;AACxC;;AAEA,eAAe;AACf;EACE,WAAW;EACX,0BAA0B;EAC1B,yCAAyC;EACzC,qCAAqC;EACrC,+BAA+B;EAC/B,0BAA0B;EAC1B,eAAe;EACf,gCAAgC;EAChC,sCAAsC;AACxC;;AAEA;EACE,kCAAkC;EAClC,0CAA0C;EAC1C,aAAa;AACf;;AAEA;EACE,4BAA4B;EAC5B,YAAY;AACd;;AAEA,wBAAwB;AACxB;EACE,yBAAyB;EACzB,eAAe;EACf,gCAAgC;EAChC,4CAA4C;EAC5C,+BAA+B;EAC/B,0CAA0C;EAC1C,0CAA0C;EAC1C,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,+DAA+D;AACjE;;AAEA;EACE,aAAa;AACf;;AAEA,iBAAiB;AACjB;EACE,WAAW;EACX,0BAA0B;EAC1B,sCAAsC;EACtC,YAAY;EACZ,YAAY;EACZ,+BAA+B;EAC/B,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,sCAAsC;EACtC,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,qCAAqC;EACrC,2BAA2B;EAC3B,6CAA6C;AAC/C;;AAEA;EACE,wBAAwB;EACxB,gBAAgB;AAClB;;AAEA;EACE,qCAAqC;EACrC,mBAAmB;EACnB,eAAe;EACf,gBAAgB;AAClB;;AAEA,aAAa;AACb;EACE;IACE,UAAU;IACV,uCAAuC;EACzC;EACA;IACE,UAAU;IACV,iCAAiC;EACnC;AACF;;AAEA;EACE;;IAEE,2BAA2B;EAC7B;EACA;;IAEE,0BAA0B;EAC5B;EACA;;;IAGE,2BAA2B;EAC7B;EACA;;IAEE,0BAA0B;EAC5B;AACF;;AAEA,aAAa;AACb;EACE;IACE,uBAAuB;EACzB;EACA;IACE,yBAAyB;EAC3B;AACF;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,oBAAoB;EACpB,qBAAqB;EACrB,6BAA6B;EAC7B,uBAAuB;EACvB,kBAAkB;EAClB,oCAAoC;AACtC;;AAEA,iBAAiB;AACjB;EACE;IACE,0BAA0B;IAC1B,yBAAyB;EAC3B;;EAEA;IACE,eAAe;EACjB;;EAEA;;IAEE,eAAe;IACf,sCAAsC;EACxC;AACF;;AAEA,gBAAgB;AAChB;EACE;IACE,qCAAqC;EACvC;;EAEA;IACE,qCAAqC;IACrC;;wCAEoC;EACtC;;EAEA;IACE,wCAAwC;IACxC,gCAAgC;EAClC;;EAEA;IACE,kCAAkC;IAClC,yCAAyC;EAC3C;;EAEA;IACE,2CAA2C;IAC3C,uCAAuC;EACzC;AACF",sourcesContent:["/* Основной контейнер модального окна */\n.login-modal {\n  position: fixed;\n  inset: 0;\n  background-color: rgba(0, 0, 0, 0.75);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n  padding: var(--spacing-md);\n  opacity: 1;\n  transition: opacity var(--transition-normal);\n}\n\n.login-modal.hidden {\n  opacity: 0;\n  pointer-events: none;\n}\n\n/* Контейнер содержимого */\n.login-content {\n  background-color: var(--surface-color);\n  padding: var(--spacing-xl);\n  border-radius: var(--radius-lg);\n  width: 100%;\n  max-width: 400px;\n  box-shadow:\n    0 10px 15px -3px rgba(0, 0, 0, 0.1),\n    0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  animation: modal-in var(--transition-normal) cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n/* Заголовок */\n.login-content h2 {\n  font-size: 24px;\n  font-weight: 600;\n  color: var(--text-primary);\n  text-align: center;\n  margin-bottom: var(--spacing-lg);\n  padding-bottom: var(--spacing-sm);\n  position: relative;\n}\n\n.login-content h2::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 40px;\n  height: 2px;\n  background-color: var(--primary-color);\n}\n\n/* Поле ввода */\n.login-content input {\n  width: 100%;\n  padding: var(--spacing-md);\n  background-color: var(--background-color);\n  border: 2px solid var(--border-color);\n  border-radius: var(--radius-md);\n  color: var(--text-primary);\n  font-size: 16px;\n  margin-bottom: var(--spacing-md);\n  transition: all var(--transition-fast);\n}\n\n.login-content input:focus {\n  border-color: var(--primary-color);\n  box-shadow: 0 0 0 3px var(--primary-light);\n  outline: none;\n}\n\n.login-content input::placeholder {\n  color: var(--text-secondary);\n  opacity: 0.7;\n}\n\n/* Сообщение об ошибке */\n.login-content .error-message {\n  color: var(--error-color);\n  font-size: 14px;\n  margin-bottom: var(--spacing-md);\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-radius: var(--radius-sm);\n  background-color: rgba(242, 139, 130, 0.1);\n  border: 1px solid rgba(242, 139, 130, 0.2);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  animation: shake 0.4s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\n}\n\n.login-content .error-message.hidden {\n  display: none;\n}\n\n/* Кнопка входа */\n.login-content button {\n  width: 100%;\n  padding: var(--spacing-md);\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: var(--radius-md);\n  font-size: 16px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all var(--transition-fast);\n  position: relative;\n  overflow: hidden;\n}\n\n.login-content button:hover {\n  background-color: var(--primary-dark);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n}\n\n.login-content button:active {\n  transform: translateY(0);\n  box-shadow: none;\n}\n\n.login-content button:disabled {\n  background-color: var(--border-color);\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n\n/* Анимации */\n@keyframes modal-in {\n  0% {\n    opacity: 0;\n    transform: scale(0.95) translateY(10px);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n}\n\n@keyframes shake {\n  10%,\n  90% {\n    transform: translateX(-1px);\n  }\n  20%,\n  80% {\n    transform: translateX(2px);\n  }\n  30%,\n  50%,\n  70% {\n    transform: translateX(-3px);\n  }\n  40%,\n  60% {\n    transform: translateX(3px);\n  }\n}\n\n/* Загрузка */\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.login-content button.loading::after {\n  content: '';\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  top: calc(50% - 8px);\n  left: calc(50% - 8px);\n  border: 2px solid transparent;\n  border-top-color: white;\n  border-radius: 50%;\n  animation: spin 0.6s linear infinite;\n}\n\n/* Адаптивность */\n@media (max-width: 480px) {\n  .login-content {\n    padding: var(--spacing-lg);\n    margin: var(--spacing-sm);\n  }\n\n  .login-content h2 {\n    font-size: 20px;\n  }\n\n  .login-content input,\n  .login-content button {\n    font-size: 15px;\n    padding: calc(var(--spacing-md) - 2px);\n  }\n}\n\n/* Темная тема */\n@media (prefers-color-scheme: dark) {\n  .login-modal {\n    background-color: rgba(0, 0, 0, 0.85);\n  }\n\n  .login-content {\n    background-color: var(--surface-dark);\n    box-shadow:\n      0 10px 15px -3px rgba(0, 0, 0, 0.2),\n      0 4px 6px -2px rgba(0, 0, 0, 0.15);\n  }\n\n  .login-content input {\n    background-color: var(--background-dark);\n    border-color: var(--border-dark);\n  }\n\n  .login-content input:focus {\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 3px var(--primary-dark);\n  }\n\n  .login-content .error-message {\n    background-color: rgba(242, 139, 130, 0.05);\n    border-color: rgba(242, 139, 130, 0.15);\n  }\n}\n"],sourceRoot:""}]);const i=a},562:(n,t,e)=>{e.d(t,{A:()=>i});var r=e(942),s=e.n(r),o=e(278),a=e.n(o)()(s());a.push([n.id,".user-list {\n  width: 300px;\n  background-color: var(--surface-color);\n  border-right: 1px solid var(--border-color);\n  display: flex;\n  flex-direction: column;\n}\n\n.user-list-header {\n  padding: var(--spacing-md);\n  border-bottom: 1px solid var(--border-color);\n}\n\n.user-list-title {\n  font-size: 18px;\n  font-weight: 500;\n  color: var(--text-primary);\n}\n\n.users-container {\n  flex: 1;\n  overflow-y: auto;\n  padding: var(--spacing-md);\n}\n\n.user-item {\n  display: flex;\n  align-items: center;\n  padding: var(--spacing-md);\n  border-radius: var(--radius-md);\n  cursor: pointer;\n  transition: background-color var(--transition-fast);\n  margin-bottom: var(--spacing-sm);\n  opacity: 0;\n  animation: fade-in var(--transition-normal) forwards;\n}\n\n.user-item:hover {\n  background-color: rgba(255, 255, 255, 0.05);\n}\n\n.user-item:active {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.user-item:nth-child(1) {\n  animation-delay: 50ms;\n}\n.user-item:nth-child(2) {\n  animation-delay: 100ms;\n}\n.user-item:nth-child(3) {\n  animation-delay: 150ms;\n}\n\n.no-users {\n  padding: var(--spacing-md);\n  color: var(--text-secondary);\n  text-align: center;\n  font-size: 14px;\n}\n\n.user-avatar {\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  margin-right: var(--spacing-md);\n  object-fit: cover;\n}\n\n.user-info {\n  flex: 1;\n  min-width: 0;\n}\n\n.user-nickname {\n  font-weight: 500;\n  margin-bottom: var(--spacing-xs);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.user-status {\n  font-size: 14px;\n  color: var(--text-secondary);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.status-indicator {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background-color: var(--text-secondary);\n}\n\n.user-item.online .status-indicator {\n  background-color: var(--success-color);\n}\n\n/* Адаптивность */\n@media (max-width: 768px) {\n  .user-list {\n    width: 100%;\n    height: 100%;\n    border-right: none;\n    border-bottom: 1px solid var(--border-color);\n  }\n\n  .users-container {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n    gap: var(--spacing-sm);\n  }\n}\n","",{version:3,sources:["webpack://./src/css/components/users.css"],names:[],mappings:"AAAA;EACE,YAAY;EACZ,sCAAsC;EACtC,2CAA2C;EAC3C,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,0BAA0B;EAC1B,4CAA4C;AAC9C;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,OAAO;EACP,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,0BAA0B;EAC1B,+BAA+B;EAC/B,eAAe;EACf,mDAAmD;EACnD,gCAAgC;EAChC,UAAU;EACV,oDAAoD;AACtD;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,qBAAqB;AACvB;AACA;EACE,sBAAsB;AACxB;AACA;EACE,sBAAsB;AACxB;;AAEA;EACE,0BAA0B;EAC1B,4BAA4B;EAC5B,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,+BAA+B;EAC/B,iBAAiB;AACnB;;AAEA;EACE,OAAO;EACP,YAAY;AACd;;AAEA;EACE,gBAAgB;EAChB,gCAAgC;EAChC,mBAAmB;EACnB,gBAAgB;EAChB,uBAAuB;AACzB;;AAEA;EACE,eAAe;EACf,4BAA4B;EAC5B,aAAa;EACb,mBAAmB;EACnB,sBAAsB;AACxB;;AAEA;EACE,UAAU;EACV,WAAW;EACX,kBAAkB;EAClB,uCAAuC;AACzC;;AAEA;EACE,sCAAsC;AACxC;;AAEA,iBAAiB;AACjB;EACE;IACE,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,4CAA4C;EAC9C;;EAEA;IACE,aAAa;IACb,4DAA4D;IAC5D,sBAAsB;EACxB;AACF",sourcesContent:[".user-list {\n  width: 300px;\n  background-color: var(--surface-color);\n  border-right: 1px solid var(--border-color);\n  display: flex;\n  flex-direction: column;\n}\n\n.user-list-header {\n  padding: var(--spacing-md);\n  border-bottom: 1px solid var(--border-color);\n}\n\n.user-list-title {\n  font-size: 18px;\n  font-weight: 500;\n  color: var(--text-primary);\n}\n\n.users-container {\n  flex: 1;\n  overflow-y: auto;\n  padding: var(--spacing-md);\n}\n\n.user-item {\n  display: flex;\n  align-items: center;\n  padding: var(--spacing-md);\n  border-radius: var(--radius-md);\n  cursor: pointer;\n  transition: background-color var(--transition-fast);\n  margin-bottom: var(--spacing-sm);\n  opacity: 0;\n  animation: fade-in var(--transition-normal) forwards;\n}\n\n.user-item:hover {\n  background-color: rgba(255, 255, 255, 0.05);\n}\n\n.user-item:active {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.user-item:nth-child(1) {\n  animation-delay: 50ms;\n}\n.user-item:nth-child(2) {\n  animation-delay: 100ms;\n}\n.user-item:nth-child(3) {\n  animation-delay: 150ms;\n}\n\n.no-users {\n  padding: var(--spacing-md);\n  color: var(--text-secondary);\n  text-align: center;\n  font-size: 14px;\n}\n\n.user-avatar {\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  margin-right: var(--spacing-md);\n  object-fit: cover;\n}\n\n.user-info {\n  flex: 1;\n  min-width: 0;\n}\n\n.user-nickname {\n  font-weight: 500;\n  margin-bottom: var(--spacing-xs);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.user-status {\n  font-size: 14px;\n  color: var(--text-secondary);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.status-indicator {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background-color: var(--text-secondary);\n}\n\n.user-item.online .status-indicator {\n  background-color: var(--success-color);\n}\n\n/* Адаптивность */\n@media (max-width: 768px) {\n  .user-list {\n    width: 100%;\n    height: 100%;\n    border-right: none;\n    border-bottom: 1px solid var(--border-color);\n  }\n\n  .users-container {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n    gap: var(--spacing-sm);\n  }\n}\n"],sourceRoot:""}]);const i=a},364:(n,t,e)=>{e.d(t,{A:()=>h});var r=e(942),s=e.n(r),o=e(278),a=e.n(o),i=e(21),A=e.n(i),c=new URL(e(774),e.b),d=new URL(e(73),e.b),l=a()(s()),p=A()(c),g=A()(d);l.push([n.id,`@font-face {\n  font-family: 'Roboto';\n  src: url(${p}) format('truetype');\n  font-weight: 100 900;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: 'Roboto';\n  src: url(${g}) format('truetype');\n  font-weight: 100 900;\n  font-style: italic;\n  font-display: swap;\n}\n\n:root {\n  /* Цветовая схема */\n  --primary-color: #1a73e8;\n  --primary-dark: #1557b0;\n  --primary-light: #4285f4;\n  --background-color: #202124;\n  --surface-color: #292a2d;\n  --text-primary: #e8eaed;\n  --text-secondary: #9aa0a6;\n  --border-color: #5f6368;\n  --error-color: #f28b82;\n  --success-color: #81c995;\n  --warning-color: #fdd663;\n\n  /* Тени */\n  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);\n  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);\n  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);\n\n  /* Скругления */\n  --radius-sm: 4px;\n  --radius-md: 8px;\n  --radius-lg: 16px;\n\n  /* Анимации */\n  --transition-fast: 150ms ease;\n  --transition-normal: 250ms ease;\n  --transition-slow: 350ms ease;\n\n  /* Размеры */\n  --spacing-xs: 4px;\n  --spacing-sm: 8px;\n  --spacing-md: 16px;\n  --spacing-lg: 24px;\n  --spacing-xl: 32px;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml {\n  height: 100%;\n  font-size: 16px;\n}\n\nbody {\n  font-family:\n    'Roboto',\n    system-ui,\n    -apple-system,\n    sans-serif;\n  background-color: var(--background-color);\n  color: var(--text-primary);\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  height: 100%;\n}\n\n.chat-app {\n  display: flex;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.hidden {\n  display: none !important;\n}\n\n/* Прелоадер */\n.loader {\n  position: fixed;\n  inset: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--background-color);\n  z-index: 1000;\n  gap: var(--spacing-md);\n}\n\n.loader-spinner {\n  width: 40px;\n  height: 40px;\n  border: 3px solid var(--border-color);\n  border-top-color: var(--primary-color);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n.loader-text {\n  color: var(--text-secondary);\n  font-size: 14px;\n}\n\n/* Анимации */\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes fade-in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Утилиты */\n.error-message {\n  color: var(--error-color);\n  font-size: 14px;\n  padding: var(--spacing-sm);\n  border-radius: var(--radius-sm);\n  background-color: rgba(242, 139, 130, 0.1);\n}\n\n.success-message {\n  color: var(--success-color);\n  font-size: 14px;\n  padding: var(--spacing-sm);\n  border-radius: var(--radius-sm);\n  background-color: rgba(129, 201, 149, 0.1);\n}\n\n/* Адаптивность */\n@media (max-width: 768px) {\n  :root {\n    --spacing-lg: 16px;\n    --spacing-xl: 24px;\n  }\n\n  .chat-app {\n    flex-direction: column;\n  }\n}\n`,"",{version:3,sources:["webpack://./src/css/main.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,+DAAgF;EAChF,oBAAoB;EACpB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,qBAAqB;EACrB,+DAAuF;EACvF,oBAAoB;EACpB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,wBAAwB;EACxB,uBAAuB;EACvB,wBAAwB;EACxB,2BAA2B;EAC3B,wBAAwB;EACxB,uBAAuB;EACvB,yBAAyB;EACzB,uBAAuB;EACvB,sBAAsB;EACtB,wBAAwB;EACxB,wBAAwB;;EAExB,SAAS;EACT,yCAAyC;EACzC,yCAAyC;EACzC,2CAA2C;;EAE3C,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,iBAAiB;;EAEjB,aAAa;EACb,6BAA6B;EAC7B,+BAA+B;EAC/B,6BAA6B;;EAE7B,YAAY;EACZ,iBAAiB;EACjB,iBAAiB;EACjB,kBAAkB;EAClB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,SAAS;EACT,UAAU;EACV,sBAAsB;AACxB;;AAEA;EACE,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE;;;;cAIY;EACZ,yCAAyC;EACzC,0BAA0B;EAC1B,gBAAgB;EAChB,mCAAmC;EACnC,kCAAkC;EAClC,YAAY;AACd;;AAEA;EACE,aAAa;EACb,aAAa;EACb,gBAAgB;AAClB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA,cAAc;AACd;EACE,eAAe;EACf,QAAQ;EACR,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,uBAAuB;EACvB,yCAAyC;EACzC,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,qCAAqC;EACrC,sCAAsC;EACtC,kBAAkB;EAClB,kCAAkC;AACpC;;AAEA;EACE,4BAA4B;EAC5B,eAAe;AACjB;;AAEA,aAAa;AACb;EACE;IACE,yBAAyB;EAC3B;AACF;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,YAAY;AACZ;EACE,yBAAyB;EACzB,eAAe;EACf,0BAA0B;EAC1B,+BAA+B;EAC/B,0CAA0C;AAC5C;;AAEA;EACE,2BAA2B;EAC3B,eAAe;EACf,0BAA0B;EAC1B,+BAA+B;EAC/B,0CAA0C;AAC5C;;AAEA,iBAAiB;AACjB;EACE;IACE,kBAAkB;IAClB,kBAAkB;EACpB;;EAEA;IACE,sBAAsB;EACxB;AACF",sourcesContent:["@font-face {\n  font-family: 'Roboto';\n  src: url('../assets/fonts/Roboto-VariableFont_wdth,wght.ttf') format('truetype');\n  font-weight: 100 900;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: 'Roboto';\n  src: url('../assets/fonts/Roboto-Italic-VariableFont_wdth,wght.ttf') format('truetype');\n  font-weight: 100 900;\n  font-style: italic;\n  font-display: swap;\n}\n\n:root {\n  /* Цветовая схема */\n  --primary-color: #1a73e8;\n  --primary-dark: #1557b0;\n  --primary-light: #4285f4;\n  --background-color: #202124;\n  --surface-color: #292a2d;\n  --text-primary: #e8eaed;\n  --text-secondary: #9aa0a6;\n  --border-color: #5f6368;\n  --error-color: #f28b82;\n  --success-color: #81c995;\n  --warning-color: #fdd663;\n\n  /* Тени */\n  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);\n  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);\n  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.5);\n\n  /* Скругления */\n  --radius-sm: 4px;\n  --radius-md: 8px;\n  --radius-lg: 16px;\n\n  /* Анимации */\n  --transition-fast: 150ms ease;\n  --transition-normal: 250ms ease;\n  --transition-slow: 350ms ease;\n\n  /* Размеры */\n  --spacing-xs: 4px;\n  --spacing-sm: 8px;\n  --spacing-md: 16px;\n  --spacing-lg: 24px;\n  --spacing-xl: 32px;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml {\n  height: 100%;\n  font-size: 16px;\n}\n\nbody {\n  font-family:\n    'Roboto',\n    system-ui,\n    -apple-system,\n    sans-serif;\n  background-color: var(--background-color);\n  color: var(--text-primary);\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  height: 100%;\n}\n\n.chat-app {\n  display: flex;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.hidden {\n  display: none !important;\n}\n\n/* Прелоадер */\n.loader {\n  position: fixed;\n  inset: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--background-color);\n  z-index: 1000;\n  gap: var(--spacing-md);\n}\n\n.loader-spinner {\n  width: 40px;\n  height: 40px;\n  border: 3px solid var(--border-color);\n  border-top-color: var(--primary-color);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n.loader-text {\n  color: var(--text-secondary);\n  font-size: 14px;\n}\n\n/* Анимации */\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes fade-in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Утилиты */\n.error-message {\n  color: var(--error-color);\n  font-size: 14px;\n  padding: var(--spacing-sm);\n  border-radius: var(--radius-sm);\n  background-color: rgba(242, 139, 130, 0.1);\n}\n\n.success-message {\n  color: var(--success-color);\n  font-size: 14px;\n  padding: var(--spacing-sm);\n  border-radius: var(--radius-sm);\n  background-color: rgba(129, 201, 149, 0.1);\n}\n\n/* Адаптивность */\n@media (max-width: 768px) {\n  :root {\n    --spacing-lg: 16px;\n    --spacing-xl: 24px;\n  }\n\n  .chat-app {\n    flex-direction: column;\n  }\n}\n"],sourceRoot:""}]);const h=l},278:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",r=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),r&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),r&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,r,s,o){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(r)for(var i=0;i<this.length;i++){var A=this[i][0];null!=A&&(a[A]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);r&&a[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),e&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=e):d[2]=e),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),t.push(d))}},t}},21:n=>{n.exports=function(n,t){return t||(t={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),t.hash&&(n+=t.hash),/["'() \t\n]|(%20)/.test(n)||t.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},942:n=>{n.exports=function(n){var t=n[1],e=n[3];if(!e)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(s," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},292:n=>{var t=[];function e(n){for(var e=-1,r=0;r<t.length;r++)if(t[r].identifier===n){e=r;break}return e}function r(n,r){for(var o={},a=[],i=0;i<n.length;i++){var A=n[i],c=r.base?A[0]+r.base:A[0],d=o[c]||0,l="".concat(c," ").concat(d);o[c]=d+1;var p=e(l),g={css:A[1],media:A[2],sourceMap:A[3],supports:A[4],layer:A[5]};if(-1!==p)t[p].references++,t[p].updater(g);else{var h=s(g,r);r.byIndex=i,t.splice(i,0,{identifier:l,updater:h,references:1})}a.push(l)}return a}function s(n,t){var e=t.domAPI(t);e.update(n);return function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,s){var o=r(n=n||[],s=s||{});return function(n){n=n||[];for(var a=0;a<o.length;a++){var i=e(o[a]);t[i].references--}for(var A=r(n,s),c=0;c<o.length;c++){var d=e(o[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=A}}},383:n=>{var t={};n.exports=function(n,e){var r=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},88:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},884:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},893:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var s=void 0!==e.layer;s&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,s&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}},997:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},73:n=>{n.exports="/sse-ws-chat/assets/fonts/Roboto-Italic-VariableFont_wdth,wght.ttf"},774:n=>{n.exports="/sse-ws-chat/assets/fonts/Roboto-VariableFont_wdth,wght.ttf"},855:n=>{n.exports="/sse-ws-chat/assets/img/user-default-avatar.png"}},t={};function e(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={id:r,exports:{}};return n[r](o,o.exports,e),o.exports}e.m=n,e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.b=document.baseURI||self.location.href,e.nc=void 0;var r=e(292),s=e.n(r),o=e(893),a=e.n(o),i=e(383),A=e.n(i),c=e(884),d=e.n(c),l=e(88),p=e.n(l),g=e(997),h=e.n(g),C=e(364),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=A().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=p();s()(C.A,m);C.A&&C.A.locals&&C.A.locals;class u{constructor(){this.events=new Map,this._handleError=this._handleError.bind(this)}on(n,t){if(!n||"string"!=typeof n)throw new Error("Некорректное название события");if("function"!=typeof t)throw new Error("Callback должен быть функцией");return this.events.has(n)||this.events.set(n,new Set),this.events.get(n).add(t),()=>this.off(n,t)}_handleError(n,t,e){console.error(`Ошибка в обработчике события ${n}:`,{error:t.message,callback:e.name||"anonymous",stack:t.stack})}once(n,t){const e=(...r)=>{this.off(n,e),t(...r)};return this.on(n,e)}off(n,t){this.events.has(n)&&(t?this.events.get(n).delete(t):this.events.delete(n))}emit(n,t){this.events.has(n)&&this.events.get(n).forEach((e=>{try{e(t)}catch(t){this._handleError(n,t,e)}}))}clear(){this.events.clear()}}class E extends u{constructor(n){super(),this.url=n.endsWith("/ws")?n:`${n}/ws`,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectTimeout=1e3,this.pendingMessages=new Map,console.log("🔌 Инициализация WebSocket:",this.url),this.connect()}connect(){try{console.log("📡 Попытка подключения к:",this.url),this.ws=new WebSocket(this.url),this.bindEvents()}catch(n){console.error("❌ Ошибка подключения:",n),this.emit("error",n)}}bindEvents(){this.ws.onopen=()=>{console.log("✅ WebSocket подключен"),this.isConnected=!0,this.reconnectAttempts=0,this.emit("connect"),this.resendPendingMessages()},this.ws.onclose=()=>{console.log("❌ WebSocket отключен"),this.isConnected=!1,this.emit("disconnect");CookieManager.get("chatUser")&&this.reconnect()},this.ws.onerror=n=>{console.error("🔴 WebSocket ошибка:",n),this.emit("error",n)},this.ws.onmessage=n=>{try{const t=JSON.parse(n.data);console.log("📨 Получено сообщение:",t),t.messageId&&this.pendingMessages.delete(t.messageId),this.emit("message",t),t.type&&this.emit(t.type,t)}catch(n){console.error("❌ Ошибка обработки сообщения:",n),this.emit("error",n)}}}send(n,t={}){if(!this.isConnected)return console.error("❌ Попытка отправки без подключения"),void this.addToPending(n,t);const e=crypto.randomUUID(),r={messageId:e,type:n,...t};console.log("📤 Отправка сообщения:",r),this.ws.send(JSON.stringify(r)),this.addToPending(n,t,e)}addToPending(n,t,e=crypto.randomUUID()){this.pendingMessages.set(e,{type:n,data:t,timestamp:Date.now()})}resendPendingMessages(){for(const[n,t]of this.pendingMessages)this.send(t.type,t.data)}reconnect(){this.reconnectAttempts>=this.maxReconnectAttempts?this.emit("error",new Error("Превышено количество попыток подключения")):(this.reconnectAttempts++,setTimeout((()=>{this.connect()}),this.reconnectTimeout*this.reconnectAttempts))}disconnect(){this.ws&&this.isConnected&&this.ws.close()}}const B={day:"2-digit",month:"2-digit",year:"numeric"},f={hour:"2-digit",minute:"2-digit"},v=n=>{if(!n||isNaN(n))return console.warn("❌ Некорректный timestamp:",n),"";const t=new Date(n);return new Intl.DateTimeFormat("ru-RU",B).format(t)},b=n=>{if(!n||isNaN(n))return console.warn("❌ Некорректный timestamp:",n),"";const t=new Date(n);return new Intl.DateTimeFormat("ru-RU",f).format(t)};class x{static TYPES={TEXT:"message",SYSTEM:"system",STATUS:"status"};static STATUSES={SENDING:"sending",SENT:"sent",DELIVERED:"delivered",READ:"read",ERROR:"error"};constructor({id:n,from:t,text:e,type:r=x.TYPES.TEXT,timestamp:s,status:o=x.STATUSES.SENDING}){if(!e)throw new Error("Текст сообщения обязателен");this.id=n||crypto.randomUUID(),this.from=t,this.text=e,this.type=Object.values(x.TYPES).includes(r)?r:x.TYPES.TEXT,this.timestamp=s||Date.now(),this.status=Object.values(x.STATUSES).includes(o)?o:x.STATUSES.SENDING}static fromJSON(n){if(!n?.text)throw new Error("Некорректные данные сообщения");return new x(n)}static system(n){return new x({id:crypto.randomUUID(),from:"system",text:n,type:x.TYPES.SYSTEM,status:x.STATUSES.SENT})}getFormattedTime(){return b(this.timestamp)}isSystem(){return this.type===x.TYPES.SYSTEM}isError(){return this.status===x.STATUSES.ERROR}toJSON(){return{id:this.id,from:this.from,text:this.text,type:this.type,timestamp:this.timestamp,status:this.status}}}class y{constructor({id:n,participants:t,messages:e=[],unreadCount:r=0}){this.id=n||crypto.randomUUID(),this.participants=new Set(t),this.messages=e.map((n=>x.fromJSON(n))),this.unreadCount=Math.max(0,r),this.lastActivity=this.getLastActivity()}static fromJSON(n){if(!n?.participants?.length)throw new Error("Чат должен иметь участников");return new y(n)}addMessage(n){const t=n instanceof x?n:x.fromJSON(n);return this.messages.push(t),this.lastActivity=Date.now(),t}getFormattedLastActivity(){return v(this.lastActivity)}getLastMessage(){return this.messages[this.messages.length-1]||null}getLastActivity(){const n=this.getLastMessage();return n?n.timestamp:Date.now()}getFormattedLastActivity(){const n=new Date(this.lastActivity);return new Date-n<864e5?n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString()}markAsRead(n){this.messages.forEach((t=>{t.from!==n&&t.status!==x.STATUSES.READ&&(t.status=x.STATUSES.READ)})),this.unreadCount=0}incrementUnread(){this.unreadCount++}hasParticipant(n){return this.participants.has(n)}toJSON(){return{id:this.id,participants:Array.from(this.participants),messages:this.messages.map((n=>n.toJSON())),unreadCount:this.unreadCount,lastActivity:this.lastActivity}}}class w{static STATUSES={ACTIVE:"active",AWAY:"away",OFFLINE:"offline"};constructor({id:n,nickname:t,isOnline:e=!1,lastActivity:r=Date.now(),avatar:s,status:o}){if(!t)throw new Error("Никнейм обязателен");this.id=n||crypto.randomUUID(),this.nickname=t.trim(),this.isOnline=Boolean(e),this.lastActivity=r,this.avatar=s||this.getDefaultAvatar(this.nickname),this.status=Object.values(w.STATUSES).includes(o)?o:w.STATUSES.ACTIVE}getDefaultAvatar(n){return n?`https://api.dicebear.com/7.x/avataaars/svg?seed=${n}`:new URL(e(855),e.b).href}static fromJSON(n){return new w(n)}getLastActivityTime(){return v(this.lastActivity)}isActive(){return this.status===w.STATUSES.ACTIVE}toJSON(){return{id:this.id,nickname:this.nickname,isOnline:this.isOnline,lastActivity:this.lastActivity,avatar:this.avatar,status:this.status}}}class k{static set(n,t,e=7){const r=new Date;r.setTime(r.getTime()+24*e*60*60*1e3),document.cookie=`${n}=${t};expires=${r.toUTCString()};path=/`}static get(n){const t=`${n}=`,e=document.cookie.split(";");for(let n of e)if(n=n.trim(),0===n.indexOf(t))return n.substring(t.length);return null}static delete(n){this.set(n,"",-1)}}class S extends u{constructor(n){super(),this.ws=n,this.chats=new Map,this.users=new Map,this.currentUser=null,this.pendingMessages=new Map,this.bindEvents()}bindEvents(){this.ws.on("connect",(async()=>{console.log("✅ WebSocket подключен"),this.emit("connect"),await this.checkSavedSession()})),this.ws.on("disconnect",(()=>{this.emit("disconnect")})),this.ws.on("loginSuccess",(n=>{console.log("✅ Успешный вход:",n),this.currentUser=w.fromJSON(n.user),k.set("chatUser",JSON.stringify(this.currentUser.toJSON())),this.emit("loginSuccess",this.currentUser),this.ws.send("getUserList"),this.ws.send("getChatList")})),this.ws.on("loginError",(n=>{console.error("❌ Ошибка входа:",n),k.delete("chatUser"),this.emit("loginError",n.message)})),this.ws.on("userList",(n=>{console.log("👥 Получен список пользователей:",n),this.users.clear(),n.users.forEach((n=>{const t=w.fromJSON(n);this.users.set(t.id,t)})),this.emit("userListUpdate",Array.from(this.users.values()))})),this.ws.on("userJoined",(n=>{const t=new w(n.user);this.users.set(t.id,t),this.emit("userJoined",t),this.ws.send("getUserList")})),this.ws.on("userLeft",(n=>{const t=this.users.get(n.userId);t&&(t.isOnline=!1,this.emit("userLeft",t))})),this.ws.on("chatCreated",(n=>{console.log("💬 Создан новый чат:",n);const t=y.fromJSON(n.chat);this.chats.set(t.id,t),this.emit("chatCreated",t)})),this.ws.on("message",(n=>{console.log("📨 Получено сообщение:",n);const t=this.chats.get(n.chatId);if(t){const e=new x({id:n.messageId,from:n.from,text:n.text,timestamp:n.timestamp,status:"delivered"});t.addMessage(e),this.emit("newMessage",{chat:t,message:e})}})),this.ws.on("error",(n=>{this.emit("error",n)}))}async checkSavedSession(){const n=k.get("chatUser");if(n)try{const t=JSON.parse(n);return console.log("🔄 Восстановление сессии:",t),await this.login(t.nickname),!0}catch(n){console.error("❌ Ошибка восстановления сессии:",n),k.delete("chatUser")}return!1}async login(n){if(!n?.trim())throw new Error("Никнейм обязателен");console.log("🔑 Попытка входа:",n),await this.ws.send("login",{nickname:n.trim()})}logout(){this.currentUser&&(this.ws.send("logout"),k.delete("chatUser"),this.currentUser=null,this.chats.clear(),this.users.clear(),this.emit("logout"))}startChat(n){if(!n)throw new Error("ID пользователя не указан");this.ws.send("startChat",{targetUserId:n})}sendMessage(n,t){if(!n||!t?.trim())throw new Error("Некорректные данные сообщения");const e=crypto.randomUUID(),r=new x({id:e,from:this.currentUser.id,chatId:n,text:t.trim(),timestamp:Date.now(),status:"sending"}),s=this.chats.get(n);s&&(s.addMessage(r),this.emit("newMessage",{chat:s,message:r})),this.pendingMessages.set(e,r),this.ws.send("message",{chatId:n,text:t.trim(),messageId:e,from:this.currentUser.id})}markMessagesAsRead(n){const t=this.chats.get(n);t&&(t.markAsRead(this.currentUser.id),this.ws.send("markAsRead",{chatId:n}))}disconnect(){this.currentUser&&this.logout(),this.ws.disconnect()}}class U{constructor(n){this.onLogin=n,this.element=this.createElements()}createElements(){const n=document.createElement("div");n.className="login-modal hidden",n.innerHTML='\n      <div class="login-content">\n        <h2>Введите имя</h2>\n        <div class="error-message hidden"></div>\n        <input type="text" placeholder="Ваше имя..." maxlength="50">\n        <button>Войти</button>\n      </div>\n    ';const t=n.querySelector("input"),e=n.querySelector("button");return this.errorElement=n.querySelector(".error-message"),e.addEventListener("click",(()=>this.handleLogin(t.value))),t.addEventListener("keypress",(n=>{"Enter"===n.key&&this.handleLogin(t.value)})),n}handleLogin(n){(n=n.trim()).length<2?this.showError("Имя должно содержать минимум 2 символа"):this.onLogin(n)}showError(n){this.errorElement.textContent=n,this.errorElement.classList.remove("hidden")}show(){this.element.classList.remove("hidden"),this.element.querySelector("input").focus()}hide(){this.element.classList.add("hidden")}}class T{constructor(n){this.onUserSelect=n,this.users=new Map,this.element=this.createElements()}createElements(){const n=document.createElement("div");return n.className="user-list hidden",n.innerHTML='\n      <h2 class="chat-header">Пользователи онлайн</h2>\n      <div class="users-container"></div>\n    ',this.usersContainer=n.querySelector(".users-container"),n}updateUsers(n){Array.isArray(n)?(this.users.clear(),this.usersContainer.innerHTML="",0!==n.length?n.forEach((n=>{const t=n instanceof w?n:new w(n);this.users.set(t.id,t);const e=document.createElement("div");e.className="user-item "+(t.isOnline?"online":""),e.innerHTML=`\n        <img class="user-avatar" src="${t.avatar}" alt="${t.nickname}">\n        <div class="user-info">\n          <div class="user-nickname">${t.nickname}</div>\n          <div class="user-status">\n            <span class="status-indicator"></span>\n            ${t.isOnline?"в сети":"не в сети"}\n          </div>\n        </div>\n      `,e.addEventListener("click",(()=>this.onUserSelect(t.id))),this.usersContainer.appendChild(e)})):this.usersContainer.innerHTML='\n        <div class="no-users">\n          Нет доступных пользователей\n        </div>\n      '):console.error("❌ Некорректный формат списка пользователей")}show(){this.element.classList.remove("hidden")}hide(){this.element.classList.add("hidden")}}class L{constructor(n){this.onSendMessage=n,this.currentChat=null,this.currentUser=null,this.userList=null,this.element=this.createElements()}createElements(){const n=document.createElement("div");n.className="chat-window hidden",n.innerHTML='\n      <div class="chat-header">\n        <h2>Выберите пользователя для начала чата</h2>\n        <button class="logout-button">Выйти</button>\n      </div>\n      <div class="messages-list"></div>\n      <div class="input-container">\n        <input type="text" class="chat-input" placeholder="Введите сообщение...">\n        <button class="send-button">\n          <img src="/sse-ws-chat/assets/img/send.svg" alt="Отправить">\n        </button>\n      </div>\n    ';return n.querySelector(".logout-button").addEventListener("click",(()=>{"function"==typeof this.onLogout&&this.onLogout()})),this.messagesList=n.querySelector(".messages-list"),this.input=n.querySelector(".chat-input"),this.sendButton=n.querySelector(".send-button"),this.header=n.querySelector(".chat-header h2"),this.sendButton.addEventListener("click",(()=>this.handleSend())),this.input.addEventListener("keypress",(n=>{"Enter"===n.key&&this.handleSend()})),n}handleSend(){const n=this.input.value.trim();n&&this.onSendMessage&&(this.onSendMessage(n),this.input.value="")}setUserList(n){this.userList=n}setCurrentChat(n,t){this.currentChat=n,this.currentUser=t,this.messagesList.innerHTML="";const e=Array.from(n.participants).find((n=>n!==t.id)),r=this.userList?.users.get(e);this.header.textContent=r?`Чат с ${r.nickname}`:"Чат",this.show(),this.input.disabled=!1,this.sendButton.disabled=!1,this.input.focus(),n.messages.forEach((n=>this.addMessage(n)))}addMessage(n){console.log("📝 Добавление сообщения:",n);const t=n instanceof x?n:new x({id:n.id,from:n.from||this.currentUser.id,text:n.text,timestamp:n.timestamp||Date.now(),status:n.status}),e=document.createElement("div"),r=t.from===this.currentUser?.id;e.className="message "+(r?"outgoing":"incoming"),e.innerHTML=`\n      <div class="message-content">\n        <div class="message-text">${t.text}</div>\n        <div class="message-time">${b(t.timestamp)}</div>\n        ${t.status?`<div class="message-status">${t.status}</div>`:""}\n      </div>\n    `,this.messagesList.appendChild(e),this.scrollToBottom()}scrollToBottom(){this.messagesList.scrollTop=this.messagesList.scrollHeight}show(){this.element.classList.remove("hidden")}hide(){this.element.classList.add("hidden")}}class I{constructor(){const n="wss://sse-ws-chat-4ur5.onrender.com/ws";console.log("🌐 WebSocket URL:",n),this.wsClient=new E(n),this.chatService=new S(this.wsClient),this.init()}async init(){this.container=document.createElement("div"),this.container.className="chat-app hidden",this.loginModal=new U(this.handleLogin.bind(this)),this.userList=new T(this.handleUserSelect.bind(this)),this.chatWindow=new L(this.handleSendMessage.bind(this)),this.chatWindow.onLogout=this.handleLogout.bind(this),this.chatWindow.setUserList(this.userList),document.body.appendChild(this.container),document.body.appendChild(this.loginModal.element),this.container.appendChild(this.userList.element),this.container.appendChild(this.chatWindow.element),this.bindEvents();k.get("chatUser")||this.showLoginModal()}bindEvents(){this.wsClient.on("connect",(()=>{console.log("✅ WebSocket подключен")})),this.chatService.on("loginSuccess",(n=>{console.log("✅ Успешный вход:",n),this.currentUser=n,this.loginModal.hide(),this.container.classList.remove("hidden"),this.userList.show(),this.chatWindow.show()})),this.chatService.on("loginError",(n=>{console.error("❌ Ошибка входа:",n),this.loginModal.showError(n)})),this.chatService.on("userListUpdate",(n=>{if(console.log("👥 Обновление списка пользователей:",n),this.currentUser){const t=n.filter((n=>n.id!==this.currentUser.id));this.userList.updateUsers(t)}})),this.chatService.on("chatCreated",(n=>{console.log("💬 Чат создан:",n),this.chatWindow.setCurrentChat(n,this.currentUser)})),this.chatService.on("newMessage",(n=>{console.log("📨 Новое сообщение:",n),n.chat.id===this.chatWindow.currentChat?.id&&this.chatWindow.addMessage(n.message)})),this.chatService.on("error",(n=>{console.error("❌ Ошибка:",n)}))}showLoginModal(){this.loginModal.show()}handleLogin(n){console.log("🔑 Попытка входа:",n),this.chatService.login(n)}handleLogout(){this.chatService.logout(),this.container.classList.add("hidden"),this.userList.hide(),this.chatWindow.hide(),this.showLoginModal()}handleUserSelect(n){console.log("👤 Выбран пользователь:",n),this.chatService.startChat(n)}handleSendMessage(n){if(this.chatWindow.currentChat){console.log("📤 Отправка сообщения:",n);try{this.chatService.sendMessage(this.chatWindow.currentChat.id,n)}catch(n){console.error("❌ Ошибка отправки:",n)}}}}var M=e(354),z={};z.styleTagTransform=h(),z.setAttributes=d(),z.insert=A().bind(null,"head"),z.domAPI=a(),z.insertStyleElement=p();s()(M.A,z);M.A&&M.A.locals&&M.A.locals;var D=e(562),Y={};Y.styleTagTransform=h(),Y.setAttributes=d(),Y.insert=A().bind(null,"head"),Y.domAPI=a(),Y.insertStyleElement=p();s()(D.A,Y);D.A&&D.A.locals&&D.A.locals;var O=e(305),W={};W.styleTagTransform=h(),W.setAttributes=d(),W.insert=A().bind(null,"head"),W.domAPI=a(),W.insertStyleElement=p();s()(O.A,W);O.A&&O.A.locals&&O.A.locals;let R=null;document.addEventListener("DOMContentLoaded",(()=>{const n=document.getElementById("loader");try{R=new I,n.classList.add("hidden")}catch(t){console.error("Ошибка инициализации приложения:",t),n.innerHTML='\n      <div class="error-message">\n        Произошла ошибка при загрузке приложения. Попробуйте обновить страницу.\n      </div>\n    '}})),window.addEventListener("unhandledrejection",(n=>{console.error("Необработанная ошибка:",n.reason)})),window.addEventListener("beforeunload",(()=>{R?.chatService&&R.chatService.disconnect()})),window.WebSocket||(document.body.innerHTML='\n        <div class="error-message">\n        Ваш браузер не поддерживает WebSocket. Пожалуйста, обновите браузер.\n        </div>\n    ')})();
//# sourceMappingURL=main.7339cd14793be2e8ba3b.js.map